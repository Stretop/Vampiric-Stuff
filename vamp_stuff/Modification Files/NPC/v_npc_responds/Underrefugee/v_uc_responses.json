[{
  "id": "TALK_MISSION_INQUIRE",
  "responses": [{
    "condition": {
     "and": [{
       "count": 30,
       "u_has_item": "blood"
      }, {
       "u_has_mission": "VAMP_UNDERCOMMANDO_quest1"
      }
     ]
    },
    "effect": ["mission_success", {
      "count": 30,
      "u_sell_item": "blood"
     }
    ],
    "text": "Here's your blood.",
    "topic": "TALK_MISSION_SUCCESS"
   }, {
    "condition": {
     "and": [{
       "count": 15,
       "u_has_item": "smallleechteeth"
      }, {
       "u_has_mission": "VAMP_UNDERCOMMANDO_quest2"
      }
     ]
    },
    "effect": ["mission_success", {
      "count": 15,
      "u_sell_item": "smallleechteeth"
     }
    ],
    "text": "Here's your small leech teeth.",
    "topic": "TALK_MISSION_SUCCESS"
   }, {
    "condition": {
     "and": [{
       "u_has_item": "bloodsac"
      }, {
       "u_has_mission": "VAMP_UNDERCOMMANDO_quest3"
      }
     ]
    },
    "effect": ["mission_success", {
      "u_sell_item": "bloodsac"
     }
    ],
    "text": "Here's your blood sac.",
    "topic": "TALK_MISSION_SUCCESS"
   }
  ],
  "type": "talk_topic"
 }, {
  "dynamic_line": {
   "no": "Mortal descendant... What do I expect from you?",
   "u_is_wearing": "blood_necklace",
   "yes": "You got something to say, descendant?."
  },
  "id": "TALK_VAMP_UNDERCOMMANDO",
  "responses": [{
    "condition": {
     "and": ["has_no_available_mission", {
       "not": {
        "u_has_trait": "commandovampmark"
       }
      }
     ]
    },
    "text": "So, I have done the final test. What now?",
    "topic": "TALK_VAMP_UNDERCOMMANDO_testsdone"
   }, {
    "text": "I want to talk with you.",
    "topic": "TALK_VAMP_UNDERCOMMANDO_maintalk"
   }, {
    "condition": {
     "or": [{
       "not": {
        "u_has_trait": "commandovampmark"
       }
      }, {
       "not": "has_no_available_mission"
      }
     ]
    },
    "text": "Any work can I do?.",
    "topic": "TALK_MISSION_LIST"
   }, {
    "condition": "has_assigned_mission",
    "text": "About your command...",
    "topic": "TALK_MISSION_INQUIRE"
   }, {
    "text": "I should go now.",
    "topic": "TALK_DONE"
   }
  ],
  "type": "talk_topic"
 }, {
  "dynamic_line": {
   "no": "Topic?",
   "u_is_wearing": "blood_necklace",
   "yes": "So descendant... What should we talk about?"
  },
  "id": "TALK_VAMP_UNDERCOMMANDO_maintalk",
  "responses": [{
    "text": "You're what?",
    "topic": "TALK_VAMP_UNDERCOMMANDO_introduce"
   }, {
    "text": "Wait... Vampire with a gun?",
    "topic": "TALK_VAMP_UNDERCOMMANDO_gun"
   }, {
    "text": "News about the outside world, sir?",
    "topic": "TALK_VAMP_UNDERCOMMANDO_world"
   }, {
    "text": "Do you offer your guns in trading?",
    "topic": "TALK_VAMP_UNDERCOMMANDO_tradegun"
   }, {
    "text": "Let's talk later.",
    "topic": "TALK_DONE"
   }
  ],
  "type": "talk_topic"
 }, {
  "dynamic_line": "*grins* I hate obvious questions, descendant.",
  "id": "TALK_VAMP_UNDERCOMMANDO_introduce",
  "responses": [{
    "text": "I mean, are you the owner of this refugee?",
    "topic": "TALK_VAMP_UNDERCOMMANDO_owner"
   }, {
    "text": "Sh*t man, don't show your teeth!",
    "topic": "TALK_VAMP_UNDERCOMMANDO_teeth"
   }, {
    "text": "Sorry about it...",
    "topic": "TALK_VAMP_UNDERCOMMANDO_maintalk"
   }
  ],
  "type": "talk_topic"
 }, {
  "dynamic_line": "First of all, I have found out how guns kill anything quickly. I know you're thinking this is a human stuff, but in survival, we'd need to pick the best.",
  "id": "TALK_VAMP_UNDERCOMMANDO_gun",
  "responses": [{
    "text": "You are right, sir.",
    "topic": "TALK_VAMP_UNDERCOMMANDO_maintalk"
   }
  ],
  "type": "talk_topic"
 }, {
  "dynamic_line": "Rough encounters outside the wastelands, but guns do nice things having it on your sides... And back.",
  "id": "TALK_VAMP_UNDERCOMMANDO_world",
  "responses": [{
    "text": "(now that's what depending is all about).",
    "topic": "TALK_VAMP_UNDERCOMMANDO_maintalk"
   }
  ],
  "type": "talk_topic"
 }, {
  "dynamic_line": "Nope. To trade a gun like this, you better find a gunshop.",
  "id": "TALK_VAMP_UNDERCOMMANDO_tradegun",
  "responses": [{
    "text": "Gunshop?",
    "topic": "TALK_VAMP_UNDERCOMMANDO_gunshop"
   }
  ],
  "type": "talk_topic"
 }, {
  "dynamic_line": "No. This is owned and built by our master. Anything else to say?",
  "id": "TALK_VAMP_UNDERCOMMANDO_owner",
  "responses": [{
    "text": "I'll say thank you.",
    "topic": "TALK_VAMP_UNDERCOMMANDO_maintalk"
   }
  ],
  "type": "talk_topic"
 }, {
  "dynamic_line": "If that mouth keeps on talking sh*ts, I'd better put a nice, beautiful hole at your forehead!",
  "id": "TALK_VAMP_UNDERCOMMANDO_teeth",
  "responses": [{
    "text": "I am sorry about it...",
    "topic": "TALK_VAMP_UNDERCOMMANDO_maintalk"
   }, {
    "effect": "insult_combat",
    "text": "$%^& YEAH! DO IT SIR!!!",
    "topic": "TALK_DONE"
   }
  ],
  "type": "talk_topic"
 }, {
  "dynamic_line": "She's at the wasteland outskirts, a place where vampires freely communicate with you all. Sounds wonderful, right?",
  "id": "TALK_VAMP_UNDERCOMMANDO_gunshop",
  "responses": [{
    "text": "Wonderful? I don't even know where it is.",
    "topic": "TALK_VAMP_UNDERCOMMANDO_maintalk"
   }
  ],
  "type": "talk_topic"
 }, {
  "dynamic_line": "\"What now\" you say? The tests I have given you has to proven yourself worthy and push forward the boundary between this cave and the outskirt. Now, Take this ring and tell the seeker about the outskirts, she'll talk about and guide you to its coordinates. The gunshop has something to give when you arrive, so make sure you wear the ring before speaking to her.",
  "id": "TALK_VAMP_UNDERCOMMANDO_testsdone",
  "responses": [{
    "effect": [{
      "u_buy_item": "blood_cring"
     }, {
      "u_add_trait": "commandovampmark"
     }
    ],
    "text": "Yes. I'll do as you say and thank you for this ring.",
    "topic": "TALK_DONE"
   }
  ],
  "type": "talk_topic"
 }
]
